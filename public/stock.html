<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ç¾è‚¡æ ¸å¿ƒèµ„äº§æ·±åº¦ç ”æŠ¥ï¼šè¶‹åŠ¿ã€ä¼°å€¼ã€å‡çº¿ç­–ç•¥ä¸é£é™©æç¤ºã€‚">
    <meta name="robots" content="index,follow">
    <meta name="theme-color" content="#0f172a">
    <link rel="canonical" id="canonicalLink" href="https://finlogichub5.com/pages/stock.html">
    <link rel="manifest" href="../site.webmanifest">
    <title>ä¸ªè‚¡æ·±åº¦ç ”æŠ¥ - æ™ºç®—é‡‘è</title>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f8fafc;
            --dim: #94a3b8;
            --line: #334155;
            --blue: #38bdf8;
            --accent: #38bdf8;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: "Segoe UI", system-ui, sans-serif;
            padding: 20px;
            line-height: 1.6;
            margin: 0;
        }

        .container {
            max-width: 980px;
            margin: 0 auto;
        }

        .back {
            color: var(--blue);
            text-decoration: none;
            font-size: 14px;
            border: 1px solid var(--blue);
            padding: 4px 12px;
            border-radius: 20px;
        }

        .back:hover {
            background: var(--blue);
            color: #000;
        }

        .header {
            margin-top: 20px;
            border-left: 4px solid var(--accent);
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .badge {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 700;
            text-transform: uppercase;
            background: #334155;
        }

        h1 {
            margin: 10px 0 5px 0;
            font-size: 30px;
        }

        .subtitle {
            color: var(--dim);
            margin: 0;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 24px;
        }

        .metric {
            background: #171717;
            border: 1px solid var(--line);
            padding: 14px;
            border-radius: 8px;
            text-align: center;
        }

        .m-label {
            font-size: 11px;
            color: var(--dim);
            text-transform: uppercase;
        }

        .m-val {
            font-size: 16px;
            font-weight: 700;
            margin-top: 5px;
        }

        .chart-box {
            height: 420px;
            background: #0b1120;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid var(--line);
            margin-bottom: 24px;
        }

        .article {
            background: var(--card);
            padding: 26px;
            border-radius: 12px;
            margin-bottom: 24px;
        }

        h2 {
            border-bottom: 2px solid var(--line);
            padding-bottom: 10px;
            color: var(--accent);
            margin-top: 0;
        }

        .strategy-box {
            background: rgba(56, 189, 248, 0.05);
            border: 1px solid var(--blue);
            padding: 18px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .cta-box {
            margin-top: 14px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .cta-btn {
            text-decoration: none;
            border: 1px solid #334155;
            color: #cbd5e1;
            background: #0b1120;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
        }

        .cta-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .meta-note {
            margin-top: 10px;
            color: #94a3b8;
            font-size: 12px;
        }

        .related-box {
            background: var(--card);
            padding: 18px;
            border-radius: 12px;
            margin-bottom: 24px;
            border: 1px solid var(--line);
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(4, minmax(0, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .related-link {
            text-decoration: none;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #334155;
            color: #cbd5e1;
            font-size: 12px;
            background: #0b1120;
            text-align: center;
            font-weight: 700;
        }

        .related-link:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        #errorBox {
            display: none;
            margin-top: 24px;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #7f1d1d;
            background: rgba(127, 29, 29, 0.2);
            color: #fecaca;
        }

        @media (max-width: 780px) {
            .dashboard {
                grid-template-columns: repeat(2, 1fr);
            }

            .related-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="/" class="back">â® è¿”å›ä¸»å±å¹•</a>
        <div class="header">
            <span class="badge" id="trendTag">åˆ†æä¸­...</span>
            <h1 id="stockTitle">Loading...</h1>
            <p class="subtitle" id="stockSubtitle">æ­£åœ¨åŠ è½½èµ„äº§ä¿¡æ¯</p>
        </div>

        <div class="dashboard">
            <div class="metric">
                <div class="m-label">å½“å‰ä»·æ ¼</div>
                <div class="m-val" id="price">...</div>
            </div>
            <div class="metric">
                <div class="m-label">æ€»å¸‚å€¼</div>
                <div class="m-val" id="mcap">...</div>
            </div>
            <div class="metric">
                <div class="m-label">å¸‚ç›ˆç‡ (PE)</div>
                <div class="m-val" id="pe">...</div>
            </div>
            <div class="metric">
                <div class="m-label">52å‘¨æœ€é«˜</div>
                <div class="m-val" id="high52">...</div>
            </div>
        </div>

        <div class="chart-box"><canvas id="mainChart"></canvas></div>

        <div class="article">
            <h2 id="logicTitle">ğŸ¢ æ ¸å¿ƒé€»è¾‘</h2>
            <div id="logicBody"></div>

            <div class="strategy-box">
                <h3 id="strategyTitle" style="margin-top:0;">ğŸ“ ç­–ç•¥è§‚å¯Ÿ</h3>
                <ul id="strategyBullets" style="padding-left: 20px; color: #cbd5e1;"></ul>
            </div>

            <div class="cta-box">
                <a id="backtestLink" class="cta-btn" href="/">ğŸ“Š ä¸€é”®å›æµ‹æœ¬è‚¡ vs SPY</a>
                <a id="homeLink" class="cta-btn" href="/">ğŸ  è¿”å›ä¸»ç«™ç­–ç•¥å°</a>
            </div>
            <p class="meta-note" id="updateNote">æ•°æ®æ›´æ–°æ—¥æœŸï¼š-</p>
        </div>

        <div class="related-box">
            <h2 style="margin-bottom:0;">ğŸ” ç»§ç»­ç ”ç©¶å…¶ä»–èµ„äº§</h2>
            <div class="related-grid" id="relatedGrid"></div>
        </div>
        <div id="errorBox"></div>
    </div>

    <script src="/data/stock-loader.js"></script>
    <script>
        const CONTENT = {
            NVDA: {
                accent: "#76b900",
                subtitle: "AI ç®—åŠ›ç”Ÿæ€çš„æ ¸å¿ƒèµ„äº§ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šç®—åŠ›å„æ–­",
                logicBody: [
                    "GPU æ¶æ„ã€CUDA ç”Ÿæ€å’Œä¼ä¸šçº§äº§å“çŸ©é˜µæ„æˆäº†è¾ƒé«˜æŠ€æœ¯æŠ¤åŸæ²³ã€‚",
                    "AI è®­ç»ƒä¸æ¨ç†éœ€æ±‚æŒç»­å¢é•¿ï¼Œä¾›ç»™ä¾§æ‰©äº§èŠ‚å¥ä¼šç›´æ¥å½±å“ç›ˆåˆ©å¼¹æ€§ã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šNVDA çš„èŠ‚å¥",
                bullets: [
                    "é«˜ä¼°å€¼é˜¶æ®µæ›´åº”å…³æ³¨ MA200 ä¸ä¸šç»©å…‘ç°ï¼Œé¿å…åœ¨æƒ…ç»ªæçƒ­è¿½é«˜ã€‚",
                    "è‹¥å›æ’¤åé‡æ–°ç«™ä¸Š MA200 ä¸”é‡èƒ½ä¿®å¤ï¼Œé€šå¸¸æ˜¯è¶‹åŠ¿å»¶ç»­ä¿¡å·ã€‚"
                ]
            },
            TSLA: {
                accent: "#f87171",
                subtitle: "ç”µåŠ¨è½¦ä¸æœºå™¨äººå™äº‹å…±æŒ¯ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šåˆ¶é€ ä¸è½¯ä»¶åŒè½®",
                logicBody: [
                    "è§„æ¨¡åŒ–åˆ¶é€ èƒ½åŠ›ä¸è½¯ä»¶è¿­ä»£é€Ÿåº¦å†³å®šäº†é•¿æœŸåˆ©æ¶¦ç‡ä¸­æ¢ã€‚",
                    "äº§å“å‘¨æœŸå’Œå®è§‚åˆ©ç‡å¯¹ä¼°å€¼å½±å“è¾ƒå¤§ï¼Œæ³¢åŠ¨é€šå¸¸é«˜äºå¤§ç›˜ã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šTSLA çš„æ³¢æ®µæ¡†æ¶",
                bullets: [
                    "éœ‡è¡åŒºé—´ä¼˜å…ˆçœ‹ MA200 æ–¹å‘ï¼Œè·Œç ´åè¦æ§åˆ¶ä»“ä½ä¸å›æ’¤ã€‚",
                    "è¶‹åŠ¿åè½¬ä¼˜å…ˆç¡®è®¤å³ä¾§ä¿¡å·ï¼Œå†åˆ†æ‰¹å»ºä»“ã€‚"
                ]
            },
            AAPL: {
                accent: "#94a3b8",
                subtitle: "ç°é‡‘æµä¸ç”Ÿæ€é—­ç¯çš„é˜²å®ˆå‹é¾™å¤´ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šç”Ÿæ€ç°é‡‘ç‰›",
                logicBody: [
                    "ç¡¬ä»¶ã€æœåŠ¡ä¸å“ç‰Œæº¢ä»·å½¢æˆç¨³å®šç°é‡‘æµï¼Œå›è´­è¿›ä¸€æ­¥æŠ¬å‡æ¯è‚¡æ”¶ç›Šã€‚",
                    "æ–°å“å‘¨æœŸä¸å…¨çƒæ¶ˆè´¹éœ€æ±‚å½±å“çŸ­æœŸå¢é€Ÿï¼Œä½†é•¿æœŸéŸ§æ€§è¾ƒå¼ºã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šAAPL çš„é˜²å®ˆè¿›æ”»",
                bullets: [
                    "é€‚åˆä¸­é•¿æœŸé…ç½®ï¼Œå›æ’¤è‡³å…³é”®å‡çº¿å¯åˆ†æ‰¹å¸çº³ã€‚",
                    "è‹¥é•¿æœŸè·Œç ´ MA200 ä¸”åŸºæœ¬é¢è½¬å¼±ï¼Œåº”é™ä½ä»“ä½ç­‰å¾…ä¿®å¤ã€‚"
                ]
            },
            MSFT: {
                accent: "#0ea5e9",
                subtitle: "äº‘ä¸ä¼ä¸šè½¯ä»¶çš„å¤åˆ©å¼•æ“ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šè®¢é˜…ä¸äº‘å¤åˆ©",
                logicBody: [
                    "ä¼ä¸šè½¯ä»¶è®¢é˜…å’Œ Azure äº‘å¹³å°å½¢æˆç¨³å®šå¢é•¿å’Œé«˜ç²˜æ€§æ”¶å…¥ã€‚",
                    "AI äº§å“å•†ä¸šåŒ–æå‡ ARPUï¼Œæ˜¯æœªæ¥åˆ©æ¶¦å¼¹æ€§çš„å…³é”®æ¥æºã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šMSFT çš„è¶‹åŠ¿æŒæœ‰",
                bullets: [
                    "è¶‹åŠ¿å‘ä¸Šé˜¶æ®µä»¥æŒæœ‰ä¸ºä¸»ï¼Œå›æ’¤åˆ° MA50/MA200 å†è¯„ä¼°åŠ ä»“ã€‚",
                    "è‹¥è¿ç»­å¤±å®ˆé•¿æœŸå‡çº¿å¹¶æ”¾é‡ï¼Œä¼˜å…ˆä¿æŠ¤æœ¬é‡‘ã€‚"
                ]
            },
            GOOGL: {
                accent: "#3b82f6",
                subtitle: "æœç´¢ã€è§†é¢‘ä¸äº‘çš„æµé‡ä¸­æ¢ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šæµé‡ä¸æ•°æ®é£è½®",
                logicBody: [
                    "æœç´¢ä¸ YouTube çš„å¹¿å‘Šç°é‡‘æµæ˜¯åŸºæœ¬ç›˜ï¼Œäº‘ä¸šåŠ¡æä¾›ç¬¬äºŒå¢é•¿æ›²çº¿ã€‚",
                    "AI ç«äº‰ä¸ç›‘ç®¡æ‰°åŠ¨ä¼šå½±å“ä¼°å€¼ï¼Œä½†æ•°æ®ä¸åˆ†å‘ä¼˜åŠ¿ä»åœ¨ã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šGOOGL çš„ç¡®è®¤äº¤æ˜“",
                bullets: [
                    "åˆ©ç©ºå†²å‡»åä¸æ€¥äºæŠ„åº•ï¼Œä¼˜å…ˆç­‰ä»·æ ¼é‡å› MA200 ä¸Šæ–¹ã€‚",
                    "è¶‹åŠ¿ç¡®è®¤ååˆ†æ‰¹ä¹°å…¥ï¼Œæ§åˆ¶å•æ¬¡ä»“ä½é£é™©ã€‚"
                ]
            },
            AMZN: {
                accent: "#f97316",
                subtitle: "ç”µå•†å±¥çº¦ + AWS åˆ©æ¶¦å¼•æ“ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šé£è½®ä¸äº‘åŸºç¡€è®¾æ–½",
                logicBody: [
                    "ç”µå•†ç½‘ç»œæ•ˆåº”ä¸ç‰©æµæ•ˆç‡æ„æˆç«äº‰å£å’ï¼ŒAWS æä¾›é«˜åˆ©æ¶¦æ”¯æ’‘ã€‚",
                    "èµ„æœ¬å¼€æ”¯å‘¨æœŸä¼šå½±å“çŸ­æœŸåˆ©æ¶¦ç‡ï¼Œä½†ä¸­é•¿æœŸæŠ¤åŸæ²³ç¨³å›ºã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šAMZN çš„å‘¨æœŸåˆ¤æ–­",
                bullets: [
                    "è§‚å¯Ÿ MA200 ä¸åˆ©æ¶¦ä¿®å¤èŠ‚å¥ï¼Œé¿å…åœ¨æ‰©å¼ é«˜å³°ç›²ç›®è¿½é«˜ã€‚",
                    "éœ‡è¡é˜¶æ®µå¯é‡‡ç”¨åˆ†å±‚ä»“ä½å’ŒåŒºé—´æ€ç»´ã€‚"
                ]
            },
            META: {
                accent: "#06b6d4",
                subtitle: "ç¤¾äº¤åˆ†å‘ä¸å¹¿å‘Šæ•ˆç‡å¹³å°ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šç½‘ç»œæ•ˆåº”ä¸æ•ˆç‡é©å‘½",
                logicBody: [
                    "å¤šå¹³å°æµé‡çŸ©é˜µå¸¦æ¥å¹¿å‘Šæ”¶å…¥éŸ§æ€§ï¼ŒAI æå‡æŠ•æ”¾æ•ˆç‡ä¸å˜ç°èƒ½åŠ›ã€‚",
                    "é«˜å¼¹æ€§ç‰¹å¾æ˜æ˜¾ï¼Œæƒ…ç»ªä¸æ‰§è¡Œåå·®ä¼šæ”¾å¤§æ³¢åŠ¨ã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šMETA çš„å¼¹æ€§ç®¡ç†",
                bullets: [
                    "æ·±è·Œåçš„åè½¬ä¼˜å…ˆç­‰å¾… MA200 ç¡®è®¤ï¼Œå‡å°‘å·¦ä¾§è¯¯åˆ¤ã€‚",
                    "ç›ˆåˆ©ä¿®å¤é˜¶æ®µå¯æé«˜æŒä»“ï¼Œä½†è¦è®¾ç½®å›æ’¤é˜ˆå€¼ã€‚"
                ]
            },
            SPY: {
                accent: "#10b981",
                subtitle: "ç¾å›½å¸‚åœºåŸºå‡†æŒ‡æ•°ã€‚",
                logicTitle: "ğŸ¢ æ ¸å¿ƒé€»è¾‘ï¼šç³»ç»Ÿæ€§ Beta",
                logicBody: [
                    "æˆåˆ†è‚¡åŠ¨æ€æ›¿æ¢æœºåˆ¶ä½¿å…¶é•¿æœŸä»£è¡¨ç¾è‚¡æ ¸å¿ƒä¼ä¸šç›ˆåˆ©èƒ½åŠ›ã€‚",
                    "åˆ†æ•£åŒ–å¼ºã€å•ä¸€å…¬å¸é£é™©ä½ï¼Œæ˜¯ä¸­é•¿æœŸé…ç½®çš„æ ¸å¿ƒåº•ä»“ã€‚"
                ],
                strategyTitle: "ğŸ“ ç‹¬å®¶æˆ˜æ³•ï¼šSPY çš„é£é™©å¼€å…³",
                bullets: [
                    "ä»·æ ¼åœ¨ MA200 ä¸Šæ–¹å¯è§†ä¸º Risk-On ç¯å¢ƒï¼Œè¶‹åŠ¿ç­–ç•¥èƒœç‡æ›´é«˜ã€‚",
                    "è·Œç ´ MA200 è¿›å…¥ Risk-Off æ—¶ï¼Œä¼˜å…ˆé˜²å®ˆä¸åˆ†æ‰¹å®šæŠ•ã€‚"
                ]
            }
        };
        const KNOWN_TICKERS = ["NVDA", "TSLA", "AAPL", "MSFT", "GOOGL", "AMZN", "META", "SPY"];

        function runIdle(task, timeout = 1200) {
            if (typeof requestIdleCallback === "function") requestIdleCallback(() => task(), { timeout });
            else setTimeout(task, timeout);
        }

        function showError(msg) {
            const box = document.getElementById("errorBox");
            box.style.display = "block";
            box.innerText = msg;
        }

        function getTicker() {
            const t = new URLSearchParams(window.location.search).get("ticker");
            return (t || "NVDA").toUpperCase();
        }

        function renderRelated(ticker) {
            const all = KNOWN_TICKERS;
            const related = all.filter(t => t !== ticker);
            document.getElementById("relatedGrid").innerHTML = related.map(t => {
                const name = STOCK_HISTORICAL_DATA[t]?.meta?.name || t;
                return `<a class="related-link" href="./stock.html?ticker=${t}">${t}<br><span style="font-size:10px;color:#94a3b8;font-weight:500;">${name}</span></a>`;
            }).join("");
        }

        async function initPage() {
            const ticker = getTicker();
            if (!KNOWN_TICKERS.includes(ticker)) {
                showError("æœªæ‰¾åˆ°å¯¹åº”èµ„äº§ï¼Œè¯·è¿”å›é¦–é¡µé‡è¯•ã€‚");
                return;
            }
            if (typeof loadTickerData !== "function") {
                showError("æ•°æ®åŠ è½½å™¨ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°åé‡è¯•ã€‚");
                return;
            }
            try {
                await loadTickerData(ticker);
            } catch (e) {
                showError("æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚");
                return;
            }
            const stockObj = STOCK_HISTORICAL_DATA[ticker];
            const c = CONTENT[ticker];
            if (!c || !stockObj) {
                showError("æœªæ‰¾åˆ°å¯¹åº”èµ„äº§ï¼Œè¯·è¿”å›é¦–é¡µé‡è¯•ã€‚");
                return;
            }
            document.documentElement.style.setProperty("--accent", c.accent);
            document.title = `${ticker} æ·±åº¦ç ”æŠ¥ - æ™ºç®—é‡‘è`;
            document.getElementById("canonicalLink").href = `https://finlogichub5.com/pages/stock.html?ticker=${ticker}`;
            document.getElementById("stockTitle").innerText = `${stockObj.meta.name} (${ticker})`;
            document.getElementById("stockSubtitle").innerText = c.subtitle;
            document.getElementById("logicTitle").innerText = c.logicTitle;
            document.getElementById("strategyTitle").innerText = c.strategyTitle;
            document.getElementById("logicBody").innerHTML = c.logicBody.map(p => `<p style="color:#cbd5e1">${p}</p>`).join("");
            document.getElementById("strategyBullets").innerHTML = c.bullets.map(b => `<li>${b}</li>`).join("");

            const meta = stockObj.meta;
            const dates = stockObj.dates;
            const prices = stockObj.prices;
            const ma50 = stockObj.ma50;
            const ma200 = stockObj.ma200;

            document.getElementById("price").innerText = "$" + prices[prices.length - 1];
            document.getElementById("mcap").innerText = meta.marketCap || "ETF";
            document.getElementById("pe").innerText = meta.peRatio || "N/A";
            document.getElementById("high52").innerText = "$" + meta.week52High;
            document.getElementById("updateNote").innerText = `æ•°æ®æ›´æ–°æ—¥æœŸï¼š${meta.lastUpdate || "-"}`;
            document.getElementById("backtestLink").href = `/?ticker=${ticker}&compare=SPY&capital=10000&start=2019&end=2026&pmode=0`;
            const tag = document.getElementById("trendTag");
            tag.innerText = meta.trend || "åˆ†æä¸­";
            if ((meta.trend || "").includes("ç‰›")) {
                tag.style.background = "rgba(16,185,129,0.2)";
                tag.style.color = "#10b981";
            } else {
                tag.style.background = "rgba(248,113,113,0.2)";
                tag.style.color = "#f87171";
            }

            const cutIdx = dates.findIndex(d => d >= "2020-01-01");
            const i = cutIdx === -1 ? 0 : cutIdx;
            new Chart(document.getElementById("mainChart"), {
                type: "line",
                data: {
                    labels: dates.slice(i),
                    datasets: [
                        { label: "è‚¡ä»·", data: prices.slice(i), borderColor: "#ffffff", borderWidth: 2, pointRadius: 0, order: 1 },
                        { label: "MA50", data: ma50.slice(i), borderColor: "#facc15", borderWidth: 1, borderDash: [5, 5], pointRadius: 0, order: 2 },
                        { label: "MA200", data: ma200.slice(i), borderColor: "#38bdf8", borderWidth: 2, pointRadius: 0, order: 0 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: "index", intersect: false },
                    scales: { x: { display: false }, y: { position: "right", grid: { color: "#334155" } } }
                }
            });
            renderRelated(ticker);
            runIdle(() => {
                loadTickersData(KNOWN_TICKERS).then(() => renderRelated(ticker)).catch(() => { });
            }, 1600);
        }

        window.addEventListener("load", initPage);
    </script>
</body>

</html>
